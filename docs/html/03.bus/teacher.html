
<!--conf-->
<!-- footer-->
<!--com-title--><!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link href="../../../lib/weui/weui.css" rel="stylesheet"/>
    <link href="../../scss/main.css" rel="stylesheet"/>
    <script src="../../../lib/weui/weui.js"></script>
    <link type="image/x-icon" href="http://on5ngaon4.bkt.clouddn.com/Mountain_64px_1120233_easyicon.net.ico" rel="shortcut icon"/>
    <title>校车查询</title>
    <style>
      .my-map { margin: 0 auto; height: 360px; }
      .my-map .icon { background: url(http://lbs.amap.com/console/public/show/marker.png) no-repeat; }
      .my-map .icon-pot { height: 23px; width: 31px; }
      .my-map .icon-pot-red { background-position: -234px -5px; }
      .my-map .icon-pot-blue { background-position: -234px -55px; }
      .my-map .icon-cir { height: 31px; width: 28px; }
      .my-map .icon-cir-red { background-position: -11px -5px; }
      .amap-container{height: 100%;}
    </style>
  </head>
  <body></body>
  <div id="bus">
    <div class="weui-cells__title">切换车型</div>
    <div class="weui-cells">
      <div class="weui-cell weui-cell_switch">
        <div class="weui-cell__bd">切换到学生校车</div>
        <div class="weui-cell__hd">
          <input type="checkbox" class="weui-switch">
        </div>
      </div>
    </div>
    <div class="weui-cells__title">切换时间</div>
    <div class="weui-cells">
      <div class="weui-cell">
        <div class="weui-cell__hd"> 
          <label for="" class="weui-lable">时间</label>
        </div>
        <div class="weui-cell__bd">
          <select class="weui-select">
            <option>早班</option>
            <option>中班</option>
            <option>晚班</option>
          </select>
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"> 
          <label for="" class="weui-lable">路线</label>
        </div>
        <div class="weui-cell__bd">
          <select class="weui-select">
            <option>财大首义校区 路线1</option>
            <option>财大首义校区 路线2</option>
            <option>森林公园         </option>
            <option>光谷校区</option>
            <option>徐东平价  </option>
          </select>
        </div>
      </div>
    </div>
    <div class="weui-cells__title">行驶路线</div>
    <div class="container">
      <div class="card">
        <div class="weui-flex">
          <div class="weui-flex__item">财大首义校区（7:10）</div>
        </div>
        <div class="weui-flex">
          <div class="weui-flex__item">首义路B出口（7:15）</div>
        </div>
        <div class="weui-flex">
          <div class="weui-flex__item">烽火村公交站（7:20）                    </div>
        </div>
        <div class="weui-flex">
          <div class="weui-flex__item">白沙四路（7:25）</div>
        </div>
        <div class="weui-flex">
          <div class="weui-flex__item">大学城校区（8:10前） </div>
        </div>
      </div>
    </div>
    <div class="weui-cells__title">校车位置</div>
    <div class="container">
      <div id="wrap" class="my-map">
        <div id="mapContainer"></div>
      </div>
    </div>
    <script src="https://webapi.amap.com/maps?v=1.3&amp;key=8325164e247e15eea68b59e89200988b"></script>
    <script>
      ! function () {
          var infoWindow, map, level = 15,
      
              center = {
                  lng: 114.296115,
                  lat: 30.441589
              },
              
              // 标记及路线图
        features = [{type: "Marker", name: "财大首义校区", desc: "", color: "red", icon: "cir", offset: {x: -9, y: -31}, lnglat: {lng: 114.314109, lat: 30.537912}},
                        {type: "Marker", name: "首义路地铁站B口", desc: "", color: "red", icon: "cir", offset: {x: -9, y: -31}, lnglat: {lng: 114.309839, lat: 30.53374}},
                        {type: "Marker", name: "白沙洲大道烽火村(公交站)", desc: "", color: "red", icon: "cir", offset: {x: -9, y: -31}, lnglat: {lng: 114.298914, lat: 30.508873}},
                        {type: "Marker", name: "白沙四路", desc: "", color: "red", icon: "cir", offset: {x: -9, y: -31}, lnglat: {lng: 114.275199, lat: 30.478149}},
                        {type: "Marker", name: "武汉学院", desc: "", color: "red", icon: "cir", offset: {x: -9, y: -31}, lnglat: {lng: 114.2974, lat: 30.442026}},
                        {type: "Polyline", name: "班车路线", desc: "", strokeWeight: 5, strokeColor: "#F0202F", strokeOpacity: 0.8, lnglat: [{lng: 114.314352, lat: 30.538089}, {lng: 114.309717, lat: 30.533653}, {lng: 114.301563, lat: 30.534393}, {lng: 114.301306, lat: 30.52212}, {lng: 114.301392, lat: 30.519754}, {lng: 114.300276, lat: 30.518053}, {lng: 114.299332, lat: 30.511916}, {lng: 114.299203, lat: 30.511214}, {lng: 114.298602, lat: 30.509993}, {lng: 114.296027, lat: 30.505446}, {lng: 114.287315, lat: 30.496127}, {lng: 114.286757, lat: 30.495277}, {lng: 114.285084, lat: 30.493576}, {lng: 114.283453, lat: 30.491283}, {lng: 114.274741, lat: 30.478339}, {lng: 114.273486, lat: 30.4764}, {lng: 114.277091, lat: 30.474698}, {lng: 114.283614, lat: 30.472997}, {lng: 114.291854, lat: 30.473367}, {lng: 114.29297, lat: 30.473367}, {lng: 114.293056, lat: 30.473367}, {lng: 114.293313, lat: 30.463897}, {lng: 114.293313, lat: 30.46116}, {lng: 114.291682, lat: 30.458867}, {lng: 114.293828, lat: 30.457831}, {lng: 114.298206, lat: 30.455981}, {lng: 114.301038, lat: 30.455241},  {lng: 114.300266, lat: 30.444956}, {lng: 114.300695, lat: 30.441478}, {lng: 114.297433, lat: 30.441996}]}];
      
      
      
          function loadFeatures() {
              for (var feature, data, i = 0, len = features.length, j, jl, path; i < len; i++) {
                  data = features[i];
                  switch (data.type) {
                      case "Marker":
                          feature = new AMap.Marker({
                              map: map,
                              position: new AMap.LngLat(data.lnglat.lng, data.lnglat.lat),
                              zIndex: 3,
                              extData: data,
                              offset: new AMap.Pixel(data.offset.x, data.offset.y),
                              title: data.name,
                              content: '<div class="icon icon-' + data.icon + ' icon-' + data.icon + '-' + data.color + '"></div>'
                          });
                          break;
                      case "Polyline":
                          for (j = 0, jl = data.lnglat.length, path = []; j < jl; j++) {
                              path.push(new AMap.LngLat(data.lnglat[j].lng, data.lnglat[j].lat));
                          }
                          feature = new AMap.Polyline({
                              map: map,
                              path: path,
                              extData: data,
                              zIndex: 2,
                              strokeWeight: data.strokeWeight,
                              strokeColor: data.strokeColor,
                              strokeOpacity: data.strokeOpacity
                          });
                          break;
                      case "Polygon":
                          for (j = 0, jl = data.lnglat.length, path = []; j < jl; j++) {
                              path.push(new AMap.LngLat(data.lnglat[j].lng, data.lnglat[j].lat));
                          }
                          feature = new AMap.Polygon({
                              map: map,
                              path: path,
                              extData: data,
                              zIndex: 1,
                              strokeWeight: data.strokeWeight,
                              strokeColor: data.strokeColor,
                              strokeOpacity: data.strokeOpacity,
                              fillColor: data.fillColor,
                              fillOpacity: data.fillOpacity
                          });
                          break;
                      default:
                          feature = null;
                  }
                  if (feature) {
                      AMap.event.addListener(feature, "click", mapFeatureClick);
                  }
              }
          }
      
          function mapFeatureClick(e) {
              if (!infoWindow) {
                  infoWindow = new AMap.InfoWindow({
                      autoMove: true
                  });
              }
              var extData = e.target.getExtData();
              infoWindow.setContent("<h5>" + extData.name + "</h5><div>" + extData.desc + "</div>");
              infoWindow.open(map, e.lnglat);
          }
          map = new AMap.Map("mapContainer", {
              center: new AMap.LngLat(center.lng, center.lat),
              level: level
          });
          loadFeatures();
      
          
      }();
      
      
      
    </script>
    <script>
      var switchbus = document.getElementsByClassName("weui-switch")[0];
      
      switchbus.onclick = function () {
        window.location.href="index.html"; 
      } 
      
    </script>
    <script>
      time = {
            "pm":[
                "财大首义校区路线2","fff"
            ]            
      }
        
    </script>
    <footer class="weui-footer">
      <div>
        <p> <a href="../102.data/index.html" class="weui-footer__link">版本日志</a><a href="../101.message/index.html" class="weui-footer__link">留言反馈</a></p>
      </div>
      <div>
        <p class="ueui-footer__text">Copyright &copy; 2017 信息中心</p>
      </div>
    </footer>
  </div>
</html>